datasource db {
  url      = env("DATABASE_URL")
  provider = "mysql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  user_id        String      @id @default(uuid())
  createdAt DateTime @default(now())
  email     String   @unique
  name      String?
  picture   String?

  Organization Organization[]
}

model Organization {
  org_id Int @id @default(autoincrement())
  org_external_name String
  org_internal_name String
  user_id String
  created_at DateTime
  update_at DateTime
  user User @relation(fields: [user_id],references: [user_id])

  SubOrganization SubOrganization[]
}

model SubOrganization{
  sub_org_id Int @id @default(autoincrement())
  sub_external_name String 
  org_id Int
  user_id String
  created_at DateTime
  updated_at DateTime
  org Organization @relation(fields: [org_id],references: [org_id])
}

// Services
model Services{
  service_id Int @id @default(autoincrement())
  service_internal_name String
  service_external_name String 
  service_descp String?
  service_icon String?
  order_no Int @default(0)
  disable Boolean @default(true)
  created_at DateTime @default(now())
  updated_At DateTime @updatedAt @default(now())
} 
enum SERVICETYPE{
  TICKETING
  TABLE
  PRODUCT
}

model OrgServices {
  org_service_id String @id @default(uuid())
  service_id Int 
  service_type SERVICETYPE 
  org_user_id Int 
  org_id Int 
  created_at DateTime
  updated_at DateTime
}
